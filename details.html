<!doctype html>
<html lang="th">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <title>Property Details | SMART SYSTEM</title>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root{ --bg:#9fb8dc; --card:#ffffff; --primary:#1a5276; }
        body{ margin:0; font-family: 'Kanit', sans-serif; background: var(--bg); }
        .page{ padding: 20px; display:flex; justify-content:center; }
        .card{ background: #fff; border-radius: 35px; padding: 25px; max-width: 600px; width:100%; box-shadow: 0 10px 40px rgba(0,0,0,0.1); }
        .hero-img{ width:100%; border-radius: 20px; object-fit: cover; margin: 15px 0; max-height: 400px; background: #eee; }
        .btn-back{ background: var(--primary); color:#fff; border:none; padding:10px 20px; border-radius:50px; cursor:pointer; text-decoration:none; display:inline-block; }
        .pill{ display:inline-block; background:#f1f5f9; padding: 8px 15px; border-radius: 50px; margin: 5px; font-size: 0.9rem; }
    </style>
</head>
<body>

<div class="page">
    <div class="card" id="ui">
        <a href="index.html" class="btn-back">‚¨ÖÔ∏è ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>
        <h1 id="d_HOUSE_ID" style="color:var(--primary); margin:20px 0 5px 0;">HOUSE_ID: -</h1>
        <div id="d_Proj" style="color:#888;">-</div>
        <img id="d_Img" class="hero-img" src="">
        <div style="font-size:2rem; font-weight:700; color:#27ae60; margin-bottom:15px;">‡∏ø <span id="d_Price">-</span></div>
        <div>
            <div class="pill">üõå ‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏≠‡∏ô: <b id="d_Bed">-</b></div>
            <div class="pill">üõÅ ‡∏´‡πâ‡∏≠‡∏á‡∏ô‡πâ‡∏≥: <b id="d_Bath">-</b></div>
            <div class="pill">üìç ‡∏ó‡∏≥‡πÄ‡∏•: <b id="d_Loc">-</b></div>
            <div class="pill">‚úÖ ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: <b id="d_Stat">-</b></div>
        </div>
    </div>
</div>

<script>
    const api = "https://script.google.com/macros/s/AKfycbyS8rGtSnhVS8RdWje7icXZVCw5iBBJoWkEpOYm649OC6FOhnrVi87dD9GsJl_m_FVw/exec";
    async function load() {
        const id = new URLSearchParams(window.location.search).get('id');
        try {
            const res = await fetch(`${api}?action=getOne&hp_id=${id}`);
            const data = await res.json();
            if (data.success && data.item) {
                const it = data.item;
                document.getElementById('d_HOUSE_ID').innerText = "HOUSE_ID: " + it.HOUSE_ID;
                document.getElementById('d_Proj').innerText = it.Project_Name;
                document.getElementById('d_Price').innerText = Number(it.Price).toLocaleString();
                document.getElementById('d_Img').src = it.Thumbnail || "";
                document.getElementById('d_Bed').innerText = it.Bedrooms;
                document.getElementById('d_Bath').innerText = it.Bathrooms || "-";
                document.getElementById('d_Loc').innerText = (it.District || "") + " / " + (it.SubDistrict || "");
                document.getElementById('d_Stat').innerText = it.Status;
            }
        } catch (e) { alert("Error Loading Data"); }
    }
    window.onload = load;
</script>
</body>
</html>
